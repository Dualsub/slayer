add_executable(Testbed
    src/Editor/EditorLayer.cpp
    src/Editor/PropertySerializer.cpp
    include/Editor/PropertySerializer.h
    src/Editor/EditorActions.cpp
    src/Editor/EditorCamera.cpp

    src/Testbed.cpp
    src/SandboxCamera.cpp
    src/Systems/CharacterMovementSystem.cpp
    src/Systems/FiringSystem.cpp
)

target_link_libraries(Testbed PRIVATE Slayer)
target_include_directories(Testbed PRIVATE i${CMAKE_CURRENT_SOURCE_DIR}/include)
target_compile_definitions(Testbed PRIVATE SL_ASSET_PATH="${CMAKE_CURRENT_SOURCE_DIR}/assets/")
message("- Testbed asset directory: ${CMAKE_CURRENT_SOURCE_DIR}/assets/")

set(SLAYER_GAME_HEADERS ${CMAKE_CURRENT_SOURCE_DIR}/include CACHE INTERNAL "")

message("- Testbed Slayer Game Headers: ${SLAYER_GAME_HEADERS}")
message("Hello: ${CMAKE_CURRENT_BINARY_DIR}/$<CONFIG>")

if(NOT EXISTS)
    message("- Copying imgui.ini to ${CMAKE_CURRENT_BINARY_DIR}/$<CONFIG>")
    add_custom_command(TARGET Testbed POST_BUILD
        COMMAND ${CMAKE_COMMAND} -E copy
        ${CMAKE_CURRENT_SOURCE_DIR}/assets/default_imgui.ini
        ${CMAKE_CURRENT_BINARY_DIR}/$<CONFIG>/imgui.ini)
endif()